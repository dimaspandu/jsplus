/**
 * @license JS+ (DOM) v1.0.0
 * jsplus/element-builder-only.js
 *
 * Copyright (c) dimaspandu
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ !function(b){"use strict";var c={},d={autofocus:!0,disabled:!0,selected:!0,multiple:!0,recorded:!0},e={"0":!1,"1":!0,false:!1,true:!0},f=function(a,b){c[a]={instance:b,iteration:0}},g=function(a){return c[a]},h=function(c){for(var b=0;b<c.childNodes.length;b++){var a=c.childNodes[b];8!==a.nodeType&&(3!==a.nodeType||/\S/.test(a.nodeValue))?1===a.nodeType&&h(a):(c.removeChild(a),b--)}},i=function(c,j){var k=0;if(void 0!==j){if(j.attributes.length>0){for(var h=j.attributes,b=h.length-1;b>=0;b--)void 0!==d[h[b].name]?c.struct.attributes[h[b].name]=0===h[b].value.length?d[h[b].name]:e[h[b].value]:c.struct.attributes[h[b].name]=h[b].value;void 0!==c.struct.attributes.recorded&&(void 0!==c.struct.attributes.id?void 0===g(c.struct.attributes.id)&&f(c.struct.attributes.id,c):console.warn("[unrecordElementBuilder]: id required"))}c.struct.children=[],j.childNodes.forEach(function(b){3===b.nodeType?c.struct.children[k]=b.textContent:c.struct.children[k]=new a(b),b.childNodes.length>0&&i(c.struct.children[k],c.struct.children[k].selector),k++})}},j=function(a,b){a.struct.children=b},k=function(a,b){b.setAttributes(a.struct.attributes),b.setStyles(a.struct.styles),b.setChildren(a.struct.children),Object.keys(a.struct.events).length>0&&Object.keys(a.struct.events).forEach(function(c){b.setEvent(c,function(b,d){a.struct.events[c](b,d)})})},l=function(b,c){for(var d=!1,e=0,a=0;a<c.length;a++){if(JSON.stringify(c[a])===JSON.stringify(b.struct.children[0])&&a>0){d=!0,e=a;break}if(a>=20)break}d&&b.prependChildren(c,e);for(var f=d?e:0,a=f;a<c.length;a++)void 0!==b.struct.children[a]?"object"==typeof c[a]&&"object"==typeof b.struct.children[a]?c[a].struct.selector!==b.struct.children[a].struct.selector?b.struct.children[a].struct=c[a].struct:k(c[a],b.struct.children[a]):JSON.stringify(c[a])!==JSON.stringify(b.struct.children[a])&&(b.struct.children[a]=c[a]):b.appendChildren(c[a]);for(var a=b.struct.children.length-1;a>=c.length;a--)b.struct.children.pop()};function a(a){this.struct={selector:void 0!==a.nodeType?a.tagName.toLowerCase():a,attributes:{},styles:{},events:{},children:[]},void 0!==a.nodeType&&(h(a),i(this,a)),Object.seal(this),Object.seal(this.struct)}a.prototype.setChildren=function(){var b=arguments,a=function(){if(b.length>1){for(var c=[],a=0;a<b.length;a++)c.push(b[a]);return c}return Array.isArray(b[0])?b[0]:[b[0]]}();return this.struct.children.length>0?l(this,a):j(this,a),this},a.prototype.prependChildren=function(a,d){if("string"==typeof a||"number"==typeof a)this.struct.children.unshift(a);else{var b=a;void 0===a.length&&(b=[a]);for(var e=void 0===d?b.length-1:d-1,c=e;c>=0;c--)this.struct.children.unshift(b[c])}return this},a.prototype.appendChildren=function(a){if("string"==typeof a||"number"==typeof a)this.struct.children.push(a);else{var b=a;void 0===a.length&&(b=[a]);for(var c=0;c<b.length;c++)this.struct.children.push(b[c])}return this},a.prototype.setAttributes=function(a){var b=this;return void 0!==a.recorded&&(void 0!==a.id?void 0===g(a.id)&&f(a.id,b):console.warn("[unrecordElementBuilder]: id required")),Object.keys(a).forEach(function(c){a[c]!==b.struct.attributes[c]&&(b.struct.attributes[c]=a[c])}),this},a.prototype.setStyles=function(a){var b=this;return Object.keys(a).forEach(function(c){a[c]!==b.struct.styles[c]&&(b.struct.styles[c]=a[c])}),this},a.prototype.setEvent=function(a,b){var c=this;return this.struct.events[a]=function(a){b(a,c)},this},b.ElementBuilderOnly=a}(window)